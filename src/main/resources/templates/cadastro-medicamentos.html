<!DOCTYPE html>
<html lang="pt">
<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>

	<title>Controle Animal</title>

	<link rel="stylesheet" type="text/css" href="assets/stylesheets/vendors.min.css"/>
	<link rel="stylesheet" type="text/css" href="assets/stylesheets/algaworks.min.css"/>
	<link rel="stylesheet" type="text/css" href="assets/stylesheets/application.css"/>

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body>



	<section class="aw-layout-page">


<div class="page-header">
	<div class="container-fluid">
		<h1>
			Cadastro de medicamentos
		</h1>
	</div>
</div>

<div class="container-fluid">

	<div class="alert  alert-danger  alert-dismissible" role="alert">
		<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<i class="fa  fa-exclamation-circle"></i> Já existe um medicamento com o codigo informado.
	</div>
		<div layout:include="Mensagem"></div>
	<form method="POST" class="form-vertical  js-form-loading" onsubmit="return validaFormCadProduto()" action="/produtos" th:object="${produto}">

			<input type="hidden" th:field="*{id}"/>

		<div class="form-group" >
			<label for="codigo">Codigo do medicamento</label>
			<input id="codigo" name="codigo" type="text" class="form-control" />
		</div>

		<div class="form-group" >
			<label for="nome">Nome</label>
			<input id="nome" name="nome" type="text" class="form-control" />
		</div>
		<div class="form-group row" >
			<div class="col-sm-3" >
			<label for="lote">Lote</label>
			<input class="form-control" type="text" id="lote" name="lote" >
		</div>
		<div class="col-sm-3 ">
			<label  for="categoria">Categoria</label>
			<select class="form-control" name="categoria" id="categoria"
				name="idCategoria" onchange="cadastroProdutoSelect()">
				<<option></option>>
				<option></option>
				<option></option>
				<!-- Comando para criar uma lista de fazenda -->
				<option th:each="categoria : ${medicamento}"
					th:value="${medicamento.id}" th:text="${medicamento.nome}"></option>
			</select>
		</div>
		</div>
		<div class="col-sm-3">
			<label  for="focusCategoria"> </label>
			<a th:href="@{/categorias/novo}"><button type="button"
				class="form-control btn btn-success">
				Nova categoria <i class="icon-plus icon-white"></i>
			</button></a>
		</div>
		<div class="form-group">
			<button class="btn  btn-primary" type="submit">Salvar</button>
			<a href="pesquisa-produtos.html" class="btn  btn-default">Cancelar</a>
			<a href="#" class="btn  btn-link  aw-btn-link-danger" onclick="excluir()">Excluir animal</a>
		</div>
	</form>
</div>

<script>
function excluir() {
	swal({
		title: "Tem certeza?",
		text: "Você não poderá recuperar o cadastro deste medicamento após a exclusão.",
		type: "warning",
		showCancelButton: true,
		confirmButtonColor: "#DD6B55",
		confirmButtonText: "Sim, exclua agora!",
		closeOnConfirm: false,
		showLoaderOnConfirm: true
	}, function() {
		setTimeout(function() {
			swal("Excluído!", "Medicamento excluído com sucesso.", "success");
		}, 2000);
	});
}
</script>

</section>



</div>

<div class="aw-search-modal  js-search-modal">
	<form action="#" class="aw-search-modal__form">
		<input class="aw-search-modal__input  js-search-modal-input" type="text" placeholder="O que você está procurando?"/>
		<div class="aw-search-modal__input-icon">
			<i class="glyphicon  glyphicon-search  js-search-modal-go"></i>
		</div>
	</form>

	<div class="aw-search-modal__controls">
		<i class="glyphicon glyphicon-remove  js-search-modal-close"></i>
	</div>
</div>

<script src="assets/javascripts/vendors.min.js"></script>
<script src="assets/javascripts/algaworks.min.js"></script>
<script>
function excluir() {
	swal({
		title: "Tem certeza?",
		text: "Você não poderá recuperar o cadastro do funcionário após a exclusão.",
		type: "warning",
		showCancelButton: true,
		confirmButtonColor: "#DD6B55",
		confirmButtonText: "Sim, exclua agora!",
		closeOnConfirm: false,
		showLoaderOnConfirm: true
	}, function() {
		setTimeout(function() {
			swal("Excluído!", "Animal foi excluído com sucesso.", "success");
		}, 2000);
	});
}
</script>

</section>
<script type="text/javascript" src="assets/javascripts/jquery-3.1.1.min.js"></script>
<script src="assets/javascripts/vendors.min.js"></script>
<script src="assets/javascripts/algaworks.min.js"></script>
<script type="text/javascript" src="assets/javascripts/jquery.validate.min.js"></script>
<script>
    $(function(){
        $("#form-cadastro-animal").validate({
          rules : {
						codigo : { required : true },
						nome : { required : true },
						lote : { required : true },
						categoria : { required : true }
          },
          messages : {
						codigo: { required : "Por favor, informe o código." },
						nome: { required : "Por favor, informe o nome." },
						lote : { required : "Por favor, informe o lote."},
						categoria : { required : "Por favor, informe a categoria."}
          }
        });
      });
    </script>
</body>
</html>
